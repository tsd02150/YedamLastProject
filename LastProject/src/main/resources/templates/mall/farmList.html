<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<title>farmList.html</title>

<link rel="stylesheet" type="text/css" href="css/farmList.css">
<link rel="stylesheet"
	href="mall/source/plugins/themefisher-font/style.css">
<style>

/* 퀵메뉴 */
.quick-menu {
	position: fixed;
	top: 50%;
	right: 40px;
	transform: translateY(-50%);
	z-index: 9999;
	width: 80px; /* 퀵 메뉴의 가로 크기 조정 */
	height: 450px; /* 퀵 메뉴의 세로 크기 조정 */
	background-color: #f8f8f8;
	padding: 10px;
	border-radius: 40px; /* 직사각형 모양의 둥근 모서리를 위한 반지름 값 조정 */
	text-align: center; /* 내용 가운데 정렬 */
}

.quick-menu ul {
	list-style: none;
	padding: 0;
	margin: 0;
}

.quick-menu li {
	margin-bottom: 10px;
}

.quick-menu li a {
	text-decoration: none;
	color: #333;
}
.ctgr {
	border : none;
}
</style>

</head>
<body id="body">
	<div layout:fragment="content" class="outer-block">
		<!-- 퀵메뉴 -->
		<div class="quick-menu">
			<ul>
				<li th:onclick="|location.href='@{mallMain}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/4578/4578246.png"></li>
				<li style="font-size: 12px;"
					th:onclick="|location.href='@{mallMain}'|"><a href="#">포인트몰</a></li>

				<li
					th:onclick="|location.href='@{/mall/farmList(commonCd=${'S10'})}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/2230/2230446.png"></li>
				<li style="font-size: 12px;"><a
					href="/mall/farmList?commonCd=S10">농산물</a></li>


				<li
					th:onclick="|location.href='@{/mall/seafoodList(commonCd=${'S20'})}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/3361/3361370.png"></li>
				<li style="font-size: 12px;"><a
					href="/mall/seafoodList?commonCd=S20">수산물</a></li>


				<li th:onclick="|location.href='@{basketList}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/545/545489.png"></li>
				<li style="font-size: 12px;"
					th:onclick="|location.href='@{basketList}'|"><a href="#">장바구니</a></li>
				<li class="top-btn" style="font-size: 12px; cursor: pointer;"><img
					style="width: 40px; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/6015/6015743.png"
					alt="Top Button"><a href="#">TOP</a></li>
			</ul>
		</div>
		<div>
			<div id="container">
				<div class="row">
					<article class="farmImage"
						style="background-image: url(images/main/farmMain.jpg);">
					</article>
				</div>

				<!-- 농산물 -->
				<div>&nbsp;</div>
				<h2 data-common-cd="S1">농산물</h2>
				<div class="row-2">
					<div class="category-container">
						<!-- 농산물 카테고리 -->

						<div>
							<button class="ctgr" type="button" data-common-cd="S101">곡류</button>
						</div>
						<div>
							<ul>
								<li id="item" style="list-style: none;" class="sub_li_1"
									th:each="prdt : ${S101}" th:text="${prdt.ctgr}"><a
									th:href="#"></a></li>
							</ul>
						</div>

						<div>
							<button class="ctgr" type="button" data-common-cd="S102">콩류</button>
						</div>
						<div>

							<ul>
								<li id="item" style="list-style: none;" class="sub_li_1"
									th:each="prdt : ${S102}" th:text="${prdt.ctgr}"><a
									th:href="#"></a></li>
							</ul>
						</div>

						<div>
							<button class="ctgr" type="button" data-common-cd="S103">과실류</button>
						</div>
						<div>

							<ul>
								<li id="item" style="list-style: none;" class="sub_li_1"
									th:each="prdt : ${S103}" th:text="${prdt.ctgr}"><a
									th:href="#"></a></li>
							</ul>
						</div>
					</div>
				</div>

				<!-- <div class="row-2">
		<div class="category-container">
			농산물 카테고리
			<h2 data-common-cd="S1">농산물</h2>
			<div class="category">
				<ul>
					<li class="li_1" data-common-cd="S101"><a href="#">곡류</a>
						<ul th:each="prdt : ${prdtName}">
							<li class="sub_li_1" th:text="${prdt.nm}"></li>
						</ul></li>
				</ul>
			</div>
			<div class="category">
				<ul>
					<li class="li_1" data-common-cd="S102"><a href="#">콩류</a>
						<ul th:each="prdt : ${prdtName}">
							<li class="sub_li_1" th:text="${prdt.nm}"></li>
						</ul></li>
				</ul>
			</div>
			<div class="category">
				<ul>
					<li class="li_1" data-common-cd="S103"><a href="#">과실류</a>
						<ul th:each="prdt : ${prdtName}">
							<li class="sub_li_1" th:text="${prdt.nm}"></li>
						</ul></li>
				</ul>
			</div>
		</div>
	</div> -->


				<div class="row">
					<div class="selectBtn">
						<button class="btn btn-light mt-3 mt-lg-0 ctgr" type="button"
							id="low">낮은 가격순</button>
						<button class="btn btn-light mt-3 mt-lg-0 ctgr" type="button"
							id="high">높은 가격순</button>
						<button class="btn btn-light mt-3 mt-lg-0 ctgr" type="button"
							id="sales">판매량</button>
					</div>
					<input type="text" id="search">
				</div>

				<div class="row" id="farmList">
					<div class="col-md-4" th:each="prdt : ${farmList}">
						<div class="product-item"
							th:onclick="|location.href='@{getFarm(prdtNo=${prdt.prdtNo})}'|">
							<div class="product-thumb">
								<span class="bage">Sale</span> <img
									th:src="|/mall/images/main/${prdt.thumb}|">
								<div class="preview-meta">
									<ul>
										<li><span data-toggle="modal"
											data-target="#product-modal"> <i
												class="tf-ion-ios-search-strong"></i>
										</span></li>
										<li><a href="#!"><i class="tf-ion-ios-heart"></i></a></li>
										<li><a href="#!"><i class="tf-ion-android-cart"></i></a></li>
									</ul>
								</div>
							</div>
							<div class="product-content">
								<div class="product-detail">

									<!--  th:onclick="|location.href='@{getFarm(prdtNo=${getFarm.prdtNo})}'|" -->
									<h4>
										<a th:text=${prdt.nm}></a>
									</h4>
									<p>
										<span class="original-price" th:text="${prdt.prc} + '원'"
											style="text-decoration: line-through;"></span> <br> <span
											class="discounted-price"
											th:text="${prdt.prc - (prdt.prc * (prdt.dcRate / 100.0))} + '원'"></span>
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- list-end -->
		</div>
	</div>

	<script>
		/* top 버튼 */
		document.querySelector('.top-btn').addEventListener('click',
				function() {
					window.scrollTo({
						top : 0,
						behavior : 'smooth'
					});
				});
		// 상품 리스트 출력
		
		let currentState=[[${prdtCode}]];
		
		function getProductList(){
			fetch("/mall/getFarmList", {
				method: "POST",
				headers : {
					'content-Type' : 'application/json'
				},
				body : 'commonCd='+currentState
			})
			
			.then(result => result.json())
			.then(data => {
				let tbody = document.getElementById("farmList");
				while(tbody.firstChild){
					tbody.firstChild.remove();
				}
			data.forEach((product, index)=> {
				
			})
			
			})
			.catch(err=>console.log(err));
		}
		
		
		// 카테고리 해당 리스만 출력
		
		//

	</script>



</body>
</html>