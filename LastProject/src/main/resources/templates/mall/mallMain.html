<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">
<head>
<meta charset="UTF-8">
<title>mallMain.html</title>

<link rel="stylesheet" type="text/css" href="css/mallMain.css">

<link
	href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css?family=Poppins:300,400,500&display=swap"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css?family=Playfair+Display:400,900&display=swap"
	rel="stylesheet">

<script src="https://code.jquery.com/jquery-3.4.1.js"
	integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
	crossorigin="anonymous">
	
</script>

<style>

/* 퀵메뉴 */
.quick-menu {
	position: fixed;
	top: 50%;
	right: 40px;
	transform: translateY(-50%);
	z-index: 9999;
	width: 80px; /* 퀵 메뉴의 가로 크기 조정 */
	height: 450px; /* 퀵 메뉴의 세로 크기 조정 */
	background-color: #f8f8f8;
	padding: 10px;
	border-radius: 40px; /* 직사각형 모양의 둥근 모서리를 위한 반지름 값 조정 */
	text-align: center; /* 내용 가운데 정렬 */
}

.quick-menu ul {
	list-style: none;
	padding: 0;
	margin: 0;
}

.quick-menu li {
	margin-bottom: 10px;
}

.quick-menu li a {
	text-decoration: none;
	color: #333;
}

/* 상품 선택시 이미지 확대 */
.icon_img {
	position: relative;
	display: inline-block;
}

.icon_img .img {
	transition: transform 0.3s ease-in-out;
}

.icon_img:hover .img {
	transform: scale(1.1);
}

/* Main Image */
.hero-slider {
	position: relative;
	height: 600px;
	background-color: transparent; /* 배경색 투명으로 설정 */
}

/* .main-img {
	display: none; /* 배경 이미지 요소 숨김 */
}
* /

.hero-area video {
	width: 1100px;
	height: 600px;
}

/* Featured Posts */
.featured-post-slider {
	margin-top: 20px;
}

.card {
	position: relative;
	border: none;
}

.card-img {
	width: 100%;
	height: auto;
}

.card-content {
	position: absolute;
	bottom: 0;
	left: 0;
	padding: 20px;
	background-color: rgba(0, 0, 0, 0.5);
	width: 100%;
	transition: all 0.3s ease;
}

.card:hover .card-content {
	background-color: rgba(0, 0, 0, 0.8);
}

.card-title {
	font-size: 18px;
	font-weight: bold;
	color: #ffffff;
	margin-bottom: 10px;
}

.btn-outline-light {
	border-color: #ffffff;
	color: #ffffff;
}

.btn-outline-light:hover {
	background-color: #ffffff;
	color: #333333;
}

/* Amount */
.amount {
	display: flex;
	list-style: none;
	padding: 0;
	margin-top: 20px;
}

.amount li {
	flex: 1;
	text-align: center;
	padding: 20px;
	background-color: #f5f5f5;
	margin-right: 10px;
}

.contents1 {
	font-size: 18px;
	font-weight: bold;
	color: #333333;
	margin-bottom: 10px;
}

.result {
	font-size: 24px;
	font-weight: bold;
	color: #333333;
}

/* 농산물 및 수산물 */
.main_text0 {
	text-align: center;
	margin-top: 40px;
}

.main_text0 h1 {
	font-size: 32px;
	font-weight: bold;
	color: #333333;
}

.contents1 {
	font-size: 18px;
	color: #666666;
	margin-bottom: 10px;
}

.contents1_bold {
	font-size: 24px;
	font-weight: bold;
	color: #333333;
	margin-bottom: 10px;
}

.contents2 {
	font-size: 14px;
	color: #666666;
	margin-bottom: 10px;
}

.img {
	width: 100%;
	height: auto;
}

.btn-outline-light {
	border-color: #ffffff;
	color: #ffffff;
}

.btn-outline-light:hover {
	background-color: #ffffff;
	color: #333333;
}

#dotted {
	border-bottom: 3px dotted #eee;
}

.shop-banner {
	position: relative;
	background-color: #f5f5f5;
	background-image: url('images/main/mainImg.jpg');
	background-size: cover;
	padding: 200px 0px 130px;
	background-size: cover;
}
</style>


</head>
<body>
	<div layout:fragment="content" class="outer-block">

		<!-- 퀵메뉴 -->
		<div class="quick-menu">
			<ul>
				<li th:onclick="|location.href='@{mallMain}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/4578/4578246.png"></li>
				<li style="font-size: 12px;"
					th:onclick="|location.href='@{mallMain}'|"><a href="#">포인트몰</a></li>

				<li
					th:onclick="|location.href='@{/mall/productList(commonCd=${'S1'})}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/2230/2230446.png"></li>
				<li style="font-size: 12px;"><a
					href="/mall/productList?commonCd=S1">농산물</a></li>

				<li
					th:onclick="|location.href='@{/mall/productList(commonCd=${'S2'})}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/3361/3361370.png"></li>
				<li style="font-size: 12px;"><a
					href="/mall/productList?commonCd=S2">수산물</a></li>

				<li th:onclick="|location.href='@{basketList}'|"
					style="cursor: pointer;"><img
					style="width: 40ox; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/545/545489.png"></li>
				<li style="font-size: 12px;"
					th:onclick="|location.href='@{basketList}'|"><a href="#">장바구니</a></li>
				<li class="top-btn" style="font-size: 12px; cursor: pointer;"><img
					style="width: 40px; height: 40px;"
					src="https://cdn-icons-png.flaticon.com/128/6015/6015743.png"
					alt="Top Button"><a href="#">TOP</a></li>
			</ul>
		</div>

		<div>
			<!-- main image -->
			<div class="hero-slider">
				<div class="main-img"></div>
				<div class="slider-item th-fullpage hero-area">
					<video muted autoplay loop style="width: 1100px; height: 600px;">
						<source src="images/main/frame3.mp4" type="video/mp4">
					</video>
				</div>
			</div>
		</div>



		<!-- second image -->
		<!-- 
		<div>
			<section>
				<div class="container-fluid p-sm-0">
					<div class="row2 featured-post-slider">
						<div class="col-lg-3 col-sm-6 mb-2 mb-lg-0 px-1">
							<article
								class="card bg-dark text-center text-white border-0 rounded-0">
								<img class="card-img rounded-0 img-fluid w-100">
								<div class="card-img-overlay">
									<iframe
										src="https://assets.pinterest.com/ext/embed.html?id=374361787788782147?autoplay=1&mute=1"
										height="100%" width="100%" frameborder="0" scrolling="no"></iframe>
									<div class="card-content">
										<p class="text-uppercase"></p>
										<h4 class="card-title mb-4">
											<a class="text-white" href="#"></a>
										</h4>
										<a class="btn btn-outline-light" href="#">read more</a>
									</div>
								</div>
							</article>
						</div>

					</div>
				</div>
			</section>
		</div>
 -->

		<!-- 농산물 -->
		<div>&nbsp;</div>
		<div>&nbsp;</div>
		<div>&nbsp;</div>

		<div class="main_text0">
			<h1>농산물</h1>
			<div class="contents1">당신이 찾는 모든 농산물, 신선한 해산물을 우리 집 식탁에서</div>

			<div>&nbsp;</div>

			<div class="row">

				<div class="col-md-3 col-sm-6" th:each="prdt, iterStat : ${farmProduct}"
					th:if="${iterStat.index} >= 1 and ${iterStat.index} <= 4 ">
					<div class="product-grid">
						<div class="product-image">
							<a th:href="|/mall/getFarm?prdtNo=${prdt.prdtNo}|" class="image" th:utext="${prdt.thumb}">
							</a> <span th:if="${prdt.dcRate!=0}" class="product-sale-label">sale</span> <a
								class="product-like-icon" href="#"><i class="far fa-heart"></i></a>
							<a class="add-to-cart" href="#"><i
								class="fas fa-shopping-bag"></i> add to cart </a>
						</div>
						<div class="product-content">
							<div th:text="${prdt.nm}" class="contents1_bold"></div>
							<div th:text="${prdt.desct}" class="contents2"></div>
							<span th:text="${prdt.prc} + 'P'"></span>
							<div>
								<div
									th:onclick="|location.href='@{getFarm(prdtNo=${prdt.prdtNo})}'|">
									<a class="btn btn-outline-light">read more</a>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

		</div>

		<div>&nbsp;</div>
		<div>&nbsp;</div>

		<!-- 수산물 -->
		<div class="main_text0">
			<h1>수산물</h1>
			<div class="contents1">당신이 찾는 모든 농산물, 신선한 해산물을 우리 집 식탁에서</div>
			<div>&nbsp;</div>
			<div class="row">

				<div class="col-md-3 col-sm-6" th:each="prdt, iterStat : ${seaProduct}"
					th:if="${iterStat.index}  >= 1 and ${iterStat.index} <= 4 ">
					<div class="product-grid">
						<div class="product-image">
							<a th:href="|/mall/getFarm?prdtNo=${prdt.prdtNo}|" class="image" th:utext="${prdt.thumb}">
							</a> <span th:if="${prdt.dcRate!=0}" class="product-sale-label">sale</span> <a
								class="product-like-icon" href="#"><i class="far fa-heart"></i></a>
							<a class="add-to-cart" href="#"><i
								class="fas fa-shopping-bag"></i> add to cart </a>
						</div>
						<div class="product-content">
							<div th:text="${prdt.nm}" class="contents1_bold"></div>
							<div th:text="${prdt.desct}" class="contents2"></div>
							<span th:text="${prdt.prc} + 'P'"></span>
							<div>
								<div
									th:onclick="|location.href='@{getFarm(prdtNo=${prdt.prdtNo})}'|">
									<a class="btn btn-outline-light">read more</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div>&nbsp;</div>
		<div>&nbsp;</div>
		<div>&nbsp;</div>
		<section class="shop-banner">
			<div class="container">
				
				<div class="sale-percent">
					
				</div>
				
			</div>
		</section>

		<!-- 슬라이더  -->
	<div class="section">
	
	 <div class="slide slide_wrap">
      <div class="slide_item item1"></div>
      <div class="slide_item item2"></div>
      <div class="slide_item item3"></div>
      <div class="slide_item item4"></div>
      <div class="slide_item item5"></div>
      <div class="slide_prev_button slide_button">◀</div>
      <div class="slide_next_button slide_button">▶</div>
      <ul class="slide_pagination"></ul>
    </div>

</div>

		<div>&nbsp;</div>
		<div>&nbsp;</div>
		<div>&nbsp;</div>

		<script th:inline="javascript">
			/* top 버튼 */
			document.querySelector('.top-btn').addEventListener('click',
					function() {
						window.scrollTo({
							top : 0,
							behavior : 'smooth'
						});
					});
			
	
	// 슬라이크 전체 크기(width 구하기)
	const slide = document.querySelector(".slide");
	let slideWidth = slide.clientWidth;

	// 버튼 엘리먼트 선택하기
	const prevBtn = document.querySelector(".slide_prev_button");
	const nextBtn = document.querySelector(".slide_next_button");

	// 슬라이드 전체를 선택해 값을 변경해주기 위해 슬라이드 전체 선택하기
	let slideItems = document.querySelectorAll(".slide_item");
	// 현재 슬라이드 위치가 슬라이드 개수를 넘기지 않게 하기 위한 변수
	const maxSlide = slideItems.length;

	// 버튼 클릭할 때 마다 현재 슬라이드가 어디인지 알려주기 위한 변수
	let currSlide = 1;

	// 페이지네이션 생성
	const pagination = document.querySelector(".slide_pagination");

	for (let i = 0; i < maxSlide; i++) {
	  if (i === 0) pagination.innerHTML += `<li class="active">•</li>`;
	  else pagination.innerHTML += `<li>•</li>`;
	}

	const paginationItems = document.querySelectorAll(".slide_pagination > li");

	// 무한 슬라이드를 위해 start, end 슬라이드 복사하기
	const startSlide = slideItems[0];
	const endSlide = slideItems[slideItems.length - 1];
	const startElem = document.createElement("div");
	const endElem = document.createElement("div");

	endSlide.classList.forEach((c) => endElem.classList.add(c));
	endElem.innerHTML = endSlide.innerHTML;

	startSlide.classList.forEach((c) => startElem.classList.add(c));
	startElem.innerHTML = startSlide.innerHTML;

	// 각 복제한 엘리먼트 추가하기
	slideItems[0].before(endElem);
	slideItems[slideItems.length - 1].after(startElem);

	// 슬라이드 전체를 선택해 값을 변경해주기 위해 슬라이드 전체 선택하기
	slideItems = document.querySelectorAll(".slide_item");
	//
	let offset = slideWidth + currSlide;
	slideItems.forEach((i) => {
	  i.setAttribute("style", `left: ${-offset}px`);
	});

	function nextMove() {
	  currSlide++;
	  // 마지막 슬라이드 이상으로 넘어가지 않게 하기 위해서
	  if (currSlide <= maxSlide) {
	    // 슬라이드를 이동시키기 위한 offset 계산
	    const offset = slideWidth * currSlide;
	    // 각 슬라이드 아이템의 left에 offset 적용
	    slideItems.forEach((i) => {
	      i.setAttribute("style", `left: ${-offset}px`);
	    });
	    // 슬라이드 이동 시 현재 활성화된 pagination 변경
	    paginationItems.forEach((i) => i.classList.remove("active"));
	    paginationItems[currSlide - 1].classList.add("active");
	  } else {
	    // 무한 슬라이드 기능 - currSlide 값만 변경해줘도 되지만 시각적으로 자연스럽게 하기 위해 아래 코드 작성
	    currSlide = 0;
	    let offset = slideWidth * currSlide;
	    slideItems.forEach((i) => {
	      i.setAttribute("style", `transition: ${0}s; left: ${-offset}px`);
	    });
	    currSlide++;
	    offset = slideWidth * currSlide;
	    // 각 슬라이드 아이템의 left에 offset 적용
	    setTimeout(() => {
	      // 각 슬라이드 아이템의 left에 offset 적용
	      slideItems.forEach((i) => {
	        // i.setAttribute("style", `transition: ${0}s; left: ${-offset}px`);
	        i.setAttribute("style", `transition: ${0.15}s; left: ${-offset}px`);
	      });
	    }, 0);
	    // // 슬라이드 이동 시 현재 활성화된 pagination 변경
	    paginationItems.forEach((i) => i.classList.remove("active"));
	    paginationItems[currSlide - 1].classList.add("active");
	  }
	}
	function prevMove() {
	  currSlide--;
	  // 1번째 슬라이드 이하로 넘어가지 않게 하기 위해서
	  if (currSlide > 0) {
	    // 슬라이드를 이동시키기 위한 offset 계산
	    const offset = slideWidth * currSlide;
	    // 각 슬라이드 아이템의 left에 offset 적용
	    slideItems.forEach((i) => {
	      i.setAttribute("style", `left: ${-offset}px`);
	    });
	    // 슬라이드 이동 시 현재 활성화된 pagination 변경
	    paginationItems.forEach((i) => i.classList.remove("active"));
	    paginationItems[currSlide - 1].classList.add("active");
	  } else {
	    // 무한 슬라이드 기능 - currSlide 값만 변경해줘도 되지만 시각적으로 자연스럽게 하기 위해 아래 코드 작성
	    currSlide = maxSlide + 1;
	    let offset = slideWidth * currSlide;
	    // 각 슬라이드 아이템의 left에 offset 적용
	    slideItems.forEach((i) => {
	      i.setAttribute("style", `transition: ${0}s; left: ${-offset}px`);
	    });
	    currSlide--;
	    offset = slideWidth * currSlide;
	    setTimeout(() => {
	      // 각 슬라이드 아이템의 left에 offset 적용
	      slideItems.forEach((i) => {
	        // i.setAttribute("style", `transition: ${0}s; left: ${-offset}px`);
	        i.setAttribute("style", `transition: ${0.15}s; left: ${-offset}px`);
	      });
	    }, 0);
	    // 슬라이드 이동 시 현재 활성화된 pagination 변경
	    paginationItems.forEach((i) => i.classList.remove("active"));
	    paginationItems[currSlide - 1].classList.add("active");
	  }
	}

	// 버튼 엘리먼트에 클릭 이벤트 추가하기
	nextBtn.addEventListener("click", () => {
	  // 이후 버튼 누를 경우 현재 슬라이드를 변경
	  nextMove();
	});
	// 버튼 엘리먼트에 클릭 이벤트 추가하기
	prevBtn.addEventListener("click", () => {
	  // 이전 버튼 누를 경우 현재 슬라이드를 변경
	  prevMove();
	});

	// 브라우저 화면이 조정될 때 마다 slideWidth를 변경하기 위해
	window.addEventListener("resize", () => {
	  slideWidth = slide.clientWidth;
	});

	// 각 페이지네이션 클릭 시 해당 슬라이드로 이동하기
	for (let i = 0; i < maxSlide; i++) {
	  // 각 페이지네이션마다 클릭 이벤트 추가하기
	  paginationItems[i].addEventListener("click", () => {
	    // 클릭한 페이지네이션에 따라 현재 슬라이드 변경해주기(currSlide는 시작 위치가 1이기 때문에 + 1)
	    currSlide = i + 1;
	    // 슬라이드를 이동시키기 위한 offset 계산
	    const offset = slideWidth * currSlide;
	    // 각 슬라이드 아이템의 left에 offset 적용
	    slideItems.forEach((i) => {
	      i.setAttribute("style", `left: ${-offset}px`);
	    });
	    // 슬라이드 이동 시 현재 활성화된 pagination 변경
	    paginationItems.forEach((i) => i.classList.remove("active"));
	    paginationItems[currSlide - 1].classList.add("active");
	  });
	}

	// 드래그(스와이프) 이벤트를 위한 변수 초기화
	let startPoint = 0;
	let endPoint = 0;

	// PC 클릭 이벤트 (드래그)
	slide.addEventListener("mousedown", (e) => {
	  startPoint = e.pageX; // 마우스 드래그 시작 위치 저장
	});

	slide.addEventListener("mouseup", (e) => {
	  endPoint = e.pageX; // 마우스 드래그 끝 위치 저장
	  if (startPoint < endPoint) {
	    // 마우스가 오른쪽으로 드래그 된 경우
	    prevMove();
	  } else if (startPoint > endPoint) {
	    // 마우스가 왼쪽으로 드래그 된 경우
	    nextMove();
	  }
	});

	// 모바일 터치 이벤트 (스와이프)
	slide.addEventListener("touchstart", (e) => {
	  startPoint = e.touches[0].pageX; // 터치가 시작되는 위치 저장
	});
	slide.addEventListener("touchend", (e) => {
	  endPoint = e.changedTouches[0].pageX; // 터치가 끝나는 위치 저장
	  if (startPoint < endPoint) {
	    // 오른쪽으로 스와이프 된 경우
	    prevMove();
	  } else if (startPoint > endPoint) {
	    // 왼쪽으로 스와이프 된 경우
	    nextMove();
	  }
	});

	// 기본적으로 슬라이드 루프 시작하기
	let loopInterval = setInterval(() => {
	  nextMove();
	}, 3000);

	// 슬라이드에 마우스가 올라간 경우 루프 멈추기
	slide.addEventListener("mouseover", () => {
	  clearInterval(loopInterval);
	});

	// 슬라이드에서 마우스가 나온 경우 루프 재시작하기
	slide.addEventListener("mouseout", () => {
	  loopInterval = setInterval(() => {
	    nextMove();
	  }, 3000);
	});
	
		</script>

		<script
			src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


	</div>
</body>
</html>