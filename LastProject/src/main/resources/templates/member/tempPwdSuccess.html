<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<head>
<meta charset="UTF-8">
<title>로그인</title>
<style>
.login {
	padding: 0;
}

.login-signup section-padding {
	padding-top: 0;
}

.py-20 {
	clear: both;
	height: 20px;
}
</style>
</head>
<body>
	<section class="login-signup section-padding" layout:fragment="content">
		<div class="container">
			<div class="row align-items-center justify-content-center">
				<div class="col-lg-7">
							<h3>임시 비밀번호 전송 완료</h3><br>
							<h2> 임시 비밀번호를 <span id="spanTxt" th:text="${email}"></span> 해당 이메일로 발송했습니다.</h2>
							<h2> 로그인 후 비밀번호 변경 바랍니다.</h2>
							<div class="col-md-12">
                <button class="btn btn-primary" type="submit" id="subBtn"> 로그인 </button>
                </div>
						</div>
			</div>
		</div>
		
	<script>
	let email = $("#spanTxt").text();
	  
	function maskEmail(email) {
	    var atIndex = email.indexOf("@"); // @ 기준으로 인덱스 찾기
	    if (atIndex > 4) {
	      var maskedPart = email.substr(atIndex - 4, 4); // 가운데 4글자 추출
	      var maskedEmail = email.replace(maskedPart, "****"); // 추출한 부분을 ****로 대체
	      return maskedEmail;
	    }
	    return email;
	  }
	let emailFormat = maskEmail(email);
	$("#spanTxt").text(emailFormat);
	</script>
	</section>
</body>

</html>